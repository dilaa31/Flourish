<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Mood Check | Growly</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  background:linear-gradient(180deg,#FFF4F7,#ECF7F0);
  font-family:'Plus Jakarta Sans',sans-serif;
  color:#2F4F3E;
  min-height:100vh;
}

.container{
  max-width:900px;
}

/* CARD */
.soft-card{
  background:#fff;
  border-radius:24px;
  padding:28px;
  box-shadow:0 20px 40px rgba(0,0,0,.06);
  position:relative;
  overflow:hidden;
}

/* BACK BUTTON */
.back-btn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  background:#EAF6F0;
  padding:10px 18px;
  border-radius:16px;
  color:#3E6F58;
  font-weight:600;
  text-decoration:none;
  box-shadow:0 8px 20px rgba(0,0,0,.05);
  transition:.3s;
}

.back-btn:hover{
  transform:translateY(-2px);
  background:#DDF0E6;
}

/* MOOD BUTTON */
.mood-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
  gap:14px;
}

.mood-btn{
  border-radius:20px;
  padding:16px 10px;
  text-align:center;
  cursor:pointer;
  font-weight:600;
  transition:.3s;
  animation:fadeUp .6s ease;
}

.mood-btn span{
  font-size:1.8rem;
  display:block;
}

.mood-btn:hover{
  transform:translateY(-4px);
}

/* COLORS */
.mood-tenang{background:#E8F5E9;}
.mood-biasa{background:#F0F4F3;}
.mood-capek{background:#FFF2CC;}
.mood-sedih{background:#EFE6FA;}
.mood-kesal{background:#FFE4D6;}
.mood-syukur{background:#EAF6F0;}

.mood-active{
  outline:3px solid #6FBF8E;
}

/* NOTE */
textarea{
  border-radius:18px!important;
  resize:none;
}

/* INSIGHT */
.insight{
  background:#FDF0F5;
  border-radius:18px;
  padding:16px;
  font-size:.95rem;
  animation:fade .5s ease;
}

/* HISTORY */
.history{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
  font-size:.9rem;
}

.history span{
  background:#EAF6F0;
  padding:6px 10px;
  border-radius:14px;
}

/* ANIMATION */
@keyframes fadeUp{
  from{opacity:0;transform:translateY(15px)}
  to{opacity:1;transform:none}
}

@keyframes fade{
  from{opacity:0}
  to{opacity:1}
}

/* DECOR */
.blob{
  position:absolute;
  top:-80px;
  right:-80px;
  width:240px;
  height:240px;
  background:radial-gradient(circle,#FFD6E4,#E8F5E9);
  border-radius:50%;
  filter:blur(40px);
  z-index:0;
}
</style>
</head>

<body>

<div class="container py-5">

  <!-- BACK -->
  <a href="Tools.html" class="back-btn mb-4">
    ‚Üê Kembali ke Tools
  </a>

  <!-- HEADER -->
  <div class="text-center mb-4">
    <h3>üß† Mood Check</h3>
    <p class="text-muted">Sadari perasaanmu, tanpa menghakimi.</p>
  </div>

  <!-- MAIN CARD -->
  <div class="soft-card mb-4">
    <div class="blob"></div>

    <h5 class="mb-3 text-center">Hari ini kamu merasa bagaimana?</h5>

    <!-- MOODS -->
    <div class="mood-grid mb-4" id="moodGrid">
      <div class="mood-btn mood-tenang" data-mood="Tenang üòä"><span>üòä</span>Tenang</div>
      <div class="mood-btn mood-biasa" data-mood="Biasa üòê"><span>üòê</span>Biasa</div>
      <div class="mood-btn mood-capek" data-mood="Capek üò´"><span>üò´</span>Capek</div>
      <div class="mood-btn mood-sedih" data-mood="Sedih üòî"><span>üòî</span>Sedih</div>
      <div class="mood-btn mood-kesal" data-mood="Kesal üò°"><span>üò°</span>Kesal</div>
      <div class="mood-btn mood-syukur" data-mood="Bersyukur üòå"><span>üòå</span>Bersyukur</div>
    </div>

    <!-- NOTE -->
    <textarea id="note" class="form-control mb-3" rows="3"
      placeholder="Mau cerita sedikit? (opsional)"></textarea>

    <div class="text-center">
      <button class="btn btn-success px-4" onclick="saveMood()">Simpan Mood</button>
    </div>

    <!-- INSIGHT -->
    <div id="insightBox" class="insight mt-4 d-none"></div>
  </div>

  <!-- HISTORY -->
  <div class="soft-card text-center">
    <h6 class="mb-3">üìÖ Riwayat 7 Hari Terakhir</h6>
    <div class="history" id="history"></div>
  </div>

</div>

<script>
const today = new Date().toLocaleDateString("id-ID");
let selectedMood = null;

const insights = {
  "Tenang üòä":"Kamu sedang berada di ritme yang baik. Jaga perlahan ya.",
  "Biasa üòê":"Hari yang biasa pun tetap berarti.",
  "Capek üò´":"Mungkin hari ini kamu butuh istirahat, bukan dorongan.",
  "Sedih üòî":"Nggak apa-apa merasa seperti ini. Kamu nggak sendirian.",
  "Kesal üò°":"Perasaan ini valid. Tarik napas dulu, pelan-pelan.",
  "Bersyukur üòå":"Rasa syukur sekecil apa pun layak dirayakan."
};

/* SELECT MOOD */
document.querySelectorAll(".mood-btn").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".mood-btn").forEach(b=>b.classList.remove("mood-active"));
    btn.classList.add("mood-active");
    selectedMood = btn.dataset.mood;
  };
});

/* SAVE */
function saveMood(){
  if(!selectedMood) return alert("Pilih mood dulu ya üåø");

  let data = JSON.parse(localStorage.getItem("moods")) || {};
  data[today]={
    mood:selectedMood,
    note:document.getElementById("note").value
  };
  localStorage.setItem("moods",JSON.stringify(data));

  showInsight(selectedMood);
  renderHistory();
}

/* INSIGHT */
function showInsight(mood){
  const box=document.getElementById("insightBox");
  box.innerText=insights[mood];
  box.classList.remove("d-none");
}

/* HISTORY */
function renderHistory(){
  const wrap=document.getElementById("history");
  wrap.innerHTML="";
  let data=JSON.parse(localStorage.getItem("moods"))||{};
  Object.keys(data).slice(-7).forEach(d=>{
    wrap.innerHTML+=`<span>${d}<br>${data[d].mood}</span>`;
  });
}

renderHistory();
</script>

</body>
</html>
